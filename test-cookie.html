<!DOCTYPE html>
<html>
<head>
    <title>Third-Party Cookie Check</title>
    <script>
        // Set a cookie
        document.cookie = "testcookie=1; SameSite=None; Secure";

        function checkCookie() {
            var testcookie = "testcookie=" + 1;
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(testcookie) == 0) {
                    return true;
                }
            }
            return false;
        }
        
        // Check if the cookie can be read
        var result = checkCookie();

        // Send the result to the parent page
        window.parent.postMessage({ 'cookieCheck': result }, '*');
    </script>
</head>
<body>
</body>
</html>
